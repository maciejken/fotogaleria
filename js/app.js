$(function() {
  var body, caption, closeBtn, figures, header, initImgCSS, menuBtn, navMenu, popup, popupFig, popupImg, popupImgCSS, popupNav, showBtn;
  body = $('body');
  header = $('header');
  menuBtn = header.find('a');
  navMenu = $('nav.menu');
  navMenu.hide();
  menuBtn.on('click', function() {
    navMenu.slideToggle(500);
    $(this).toggleClass('icon-arrow-up');
    return $(this).toggleClass('icon-arrow-down');
  });
  figures = $('figure.post');
  figures.on('mousemove', function(e) {
    var img, offset, x, y;
    offset = $(this).offset();
    x = -(e.pageX - offset.left) / 20;
    y = -(e.pageY - offset.top) / 20;
    img = $(this).find('img');
    return img.css({
      left: x + 'px',
      top: y + 'px'
    });
  });
  initImgCSS = {
    maxWidth: 'none',
    opacity: 0
  };
  popupImgCSS = {
    maxWidth: '100%',
    width: '100%'
  };
  figures.on('click', function() {
    var figWidth, img, imgRatio, offset, winHeight, winRatio, winWidth;
    img = $(this).find('img');
    offset = this.getBoundingClientRect();
    popup.addClass('fullscreen');
    popupImg.attr('src', img.attr('src'));
    popup.animate({
      opacity: 1
    }, 500);
    popupFig.css({
      top: offset.top,
      left: offset.left,
      width: $(this).width(),
      height: $(this).height()
    });
    popupImg.css({
      width: img.width(),
      margin: img.css('margin'),
      opacity: 1
    });
    winWidth = window.innerWidth;
    winHeight = window.innerHeight;
    winRatio = winHeight / winWidth;
    imgRatio = img.outerHeight() / img.outerWidth();
    $('p.width').text(window.innerWidth + ' ' + winWidth);
    if (winRatio < imgRatio) {
      figWidth = winWidth * (winRatio / imgRatio);
    } else {
      figWidth = winWidth;
    }
    popupFig.animate({
      top: window.innerHeight / 2 - popupImg.outerHeight() / 2,
      left: window.innerWidth / 2 - popupImg.outerWidth() / 2 - 10,
      width: popupImg.outerWidth(),
      height: popupImg.outerHeight()
    }, 500, 'linear');
    popupImg.animate({
      margin: 0
    }, 500, 'linear', function() {
      popupFig.css({
        position: 'static',
        top: 'auto',
        left: 'auto'
      });
      popupImg.css(popupImgCSS);
      return popupFig.animate({
        width: figWidth,
        height: figWidth * imgRatio
      }, 700, function() {
        return popupFig.css({
          position: 'relative'
        });
      });
    });
    return popup.on('click', function() {
      $(this).removeClass('fullscreen');
      caption.hide();
      $(this).css('opacity', 0);
      popupImg.css(initImgCSS);
      popupFig.css({
        width: '20px',
        height: '20px',
        position: 'absolute'
      });
      showBtn.removeClass('icon-arrow-up');
      return popupNav.hide();
    });
  });
  popup = $('.popup');
  popupFig = popup.find('figure');
  popupImg = popup.find('img');
  popupNav = popup.find('nav');
  popupNav.hide();
  popupNav.on('click', function() {
    return false;
  });
  closeBtn = popupNav.find('.icon-close');
  showBtn = popupNav.find('.icon-arrow-down');
  caption = popup.find('figcaption');
  closeBtn.on('click', function() {
    return popup.click();
  });
  showBtn.on('click', function() {
    var imgHeight, navHeight;
    imgHeight = popupImg.outerHeight();
    navHeight = $(this).parent().outerHeight();
    caption.outerHeight(imgHeight - navHeight);
    caption.css('top', navHeight);
    caption.slideToggle(500);
    return $(this).toggleClass('icon-arrow-up');
  });
  $(window).on('resize', function() {
    var imgHeight, navHeight;
    imgHeight = popupImg.outerHeight();
    navHeight = popupNav.outerHeight();
    caption.outerHeight(imgHeight - navHeight);
    return caption.css('top', navHeight);
  });
  popupImg.on('click', function(e) {
    popupNav.fadeToggle(500);
    return e.stopImmediatePropagation();
  });
  return caption.on('click', function(e) {
    return e.stopImmediatePropagation();
  });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJhcHAuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLENBQUEsQ0FBRSxTQUFBO0FBR0UsTUFBQTtFQUFBLElBQUEsR0FBTyxDQUFBLENBQUUsTUFBRjtFQUNQLE1BQUEsR0FBUyxDQUFBLENBQUUsUUFBRjtFQUNULE9BQUEsR0FBVSxNQUFNLENBQUMsSUFBUCxDQUFZLEdBQVo7RUFDVixPQUFBLEdBQVUsQ0FBQSxDQUFFLFVBQUY7RUFDVixPQUFPLENBQUMsSUFBUixDQUFBO0VBQ0EsT0FBTyxDQUFDLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFNBQUE7SUFDaEIsT0FBTyxDQUFDLFdBQVIsQ0FBb0IsR0FBcEI7SUFDQSxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsV0FBTCxDQUFpQixlQUFqQjtXQUNBLENBQUEsQ0FBRSxJQUFGLENBQUksQ0FBQyxXQUFMLENBQWlCLGlCQUFqQjtFQUhnQixDQUFwQjtFQUtBLE9BQUEsR0FBVSxDQUFBLENBQUUsYUFBRjtFQUdWLE9BQU8sQ0FBQyxFQUFSLENBQVcsV0FBWCxFQUF3QixTQUFDLENBQUQ7QUFDcEIsUUFBQTtJQUFBLE1BQUEsR0FBUyxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsTUFBTCxDQUFBO0lBQ1QsQ0FBQSxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBRixHQUFVLE1BQU0sQ0FBQyxJQUFsQixDQUFELEdBQXlCO0lBQzdCLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUYsR0FBVSxNQUFNLENBQUMsR0FBbEIsQ0FBRCxHQUF3QjtJQUU1QixHQUFBLEdBQU0sQ0FBQSxDQUFFLElBQUYsQ0FBSSxDQUFDLElBQUwsQ0FBVSxLQUFWO1dBQ04sR0FBRyxDQUFDLEdBQUosQ0FDSTtNQUFBLElBQUEsRUFBTSxDQUFBLEdBQUksSUFBVjtNQUNBLEdBQUEsRUFBSyxDQUFBLEdBQUksSUFEVDtLQURKO0VBTm9CLENBQXhCO0VBV0EsVUFBQSxHQUNJO0lB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V0FBZCxDQUFBO0lBQ1osT0FBTyxDQUFDLFdBQVIsQ0FBb0IsU0FBQSxHQUFZLFNBQWhDO0lBQ0EsT0FBTyxDQUFDLEdBQVIsQ0FBWSxLQUFaLEVBQW1CLFNBQW5CO0lBQ0EsT0FBTyxDQUFDLFdBQVIsQ0FBb0IsR0FBcEI7V0FDQSxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsV0FBTCxDQUFpQixlQUFqQjtFQU5nQixDQUFwQjtFQVFBLENBQUEsQ0FBRSxNQUFGLENBQVMsQ0FBQyxFQUFWLENBQWEsUUFBYixFQUF1QixTQUFBO0FBQ25CLFFBQUE7SUFBQSxTQUFBLEdBQVksUUFBUSxDQUFDLFdBQVQsQ0FBQTtJQUNaLFNBQUEsR0FBWSxRQUFRLENBQUMsV0FBVCxDQUFBO0lBQ1osT0FBTyxDQUFDLFdBQVIsQ0FBb0IsU0FBQSxHQUFZLFNBQWhDO1dBQ0EsT0FBTyxDQUFDLEdBQVIsQ0FBWSxLQUFaLEVBQW1CLFNBQW5CO0VBSm1CLENBQXZCO0VBTUEsUUFBUSxDQUFDLEVBQVQsQ0FBWSxPQUFaLEVBQXFCLFNBQUMsQ0FBRDtJQUNqQixRQUFRLENBQUMsVUFBVCxDQUFvQixHQUFwQjtXQUNBLENBQUMsQ0FBQyx3QkFBRixDQUFBO0VBRmlCLENBQXJCO1NBSUEsT0FBTyxDQUFDLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFNBQUMsQ0FBRDtXQUNoQixDQUFDLENBQUMsd0JBQUYsQ0FBQTtFQURnQixDQUFwQjtBQXBMRixDQUFGIiwic291cmNlc0NvbnRlbnQiOlsiJCAtPlxuXG4gICAgIyBzaG93L2hpZGUgbmF2IG1lbnUgYmFyXG4gICAgYm9keSA9ICQoJ2JvZHknKVxuICAgIGhlYWRlciA9ICQoJ2hlYWRlcicpXG4gICAgbWVudUJ0biA9IGhlYWRlci5maW5kICdhJ1xuICAgIG5hdk1lbnUgPSAkKCduYXYubWVudScpXG4gICAgbmF2TWVudS5oaWRlKClcbiAgICBtZW51QnRuLm9uICdjbGljaycsIC0+XG4gICAgICAgIG5hdk1lbnUuc2xpZGVUb2dnbGUgNTAwXG4gICAgICAgICQoQCkudG9nZ2xlQ2xhc3MoJ2ljb24tYXJyb3ctdXAnKVxuICAgICAgICAkKEApLnRvZ2dsZUNsYXNzKCdpY29uLWFycm93LWRvd24nKVxuXG4gICAgZmlndXJlcyA9ICQoJ2ZpZ3VyZS5wb3N0JylcblxuICAgICMgbW92ZSBpbWFnZSBvbiBtb3VzZW1vdmVcbiAgICBmaWd1cmVzLm9uICdtb3VzZW1vdmUnLCAoZSkgLT5cbiAgICAgICAgb2Zmc2V0ID0gJChAKS5vZmZzZXQoKVxuICAgICAgICB4ID0gLShlLnBhZ2VYIC0gb2Zmc2V0LmxlZnQpLzIwXG4gICAgICAgIHkgPSAtKGUucGFnZVkgLSBvZmZzZXQudG9wKS8yMFxuXG4gICAgICAgIGltZyA9ICQoQCkuZmluZCAnaW1nJ1xuICAgICAgICBpbWcuY3NzXG4gICAgICAgICAgICBsZWZ0OiB4ICsgJ3B4J1xuICAgICAgICAgICAgdG9wOiB5ICsgJ3B4J1xuXG4gICAgIyBzaG93IGltYWdlIG9uIGZ1bGxzY3JlZW5cbiAgICBpbml0SW1nQ1NTID1cbiAgICAgICAgbWF4V2lkdGg6ICdub25lJ1xuICAgICAgICBvcGFjaXR5OiAwXG5cbiAgICBwb3B1cEltZ0NTUyA9XG4gICAgICAgIG1heFdpZHRoOiAnMTAwJSdcbiAgICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgIGZpZ3VyZXMub24gJ2NsaWNrJywgLT5cbiAgICAgICAgaW1nID0gJChAKS5maW5kICdpbWcnXG4gICAgICAgIG9mZnNldCA9IEBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICBwb3B1cC5hZGRDbGFzcygnZnVsbHNjcmVlbicpXG4gICAgICAgIHBvcHVwSW1nLmF0dHIoJ3NyYycsIGltZy5hdHRyKCdzcmMnKSlcbiAgICAgICAgcG9wdXAuYW5pbWF0ZVxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgNTAwXG4gICAgICAgIHBvcHVwRmlnLmNzc1xuICAgICAgICAgICAgdG9wOiBvZmZzZXQudG9wXG4gICAgICAgICAgICBsZWZ0OiBvZmZzZXQubGVmdFxuICAgICAgICAgICAgd2lkdGg6ICQoQCkud2lkdGgoKVxuICAgICAgICAgICAgaGVpZ2h0OiAkKEApLmhlaWdodCgpXG4gICAgICAgIHBvcHVwSW1nLmNzc1xuICAgICAgICAgICAgd2lkdGg6IGltZy53aWR0aCgpXG4gICAgICAgICAgICBtYXJnaW46IGltZy5jc3MoJ21hcmdpbicpXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG5cbiAgICAgICAgd2luV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuICAgICAgICB3aW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgd2luUmF0aW8gPSAgd2luSGVpZ2h0IC8gd2luV2lkdGhcbiAgICAgICAgaW1nUmF0aW8gPSBpbWcub3V0ZXJIZWlnaHQoKSAvIGltZy5vdXRlcldpZHRoKClcblxuICAgICAgICAkKCdwLndpZHRoJykudGV4dCh3aW5kb3cuaW5uZXJXaWR0aCArICcgJyArIHdpbldpZHRoKVxuXG4gICAgICAgIGlmIHdpblJhdGlvIDwgaW1nUmF0aW9cbiAgICAgICAgICAgIGZpZ1dpZHRoID0gd2luV2lkdGgqKHdpblJhdGlvL2ltZ1JhdGlvKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBmaWdXaWR0aCA9IHdpbldpZHRoXG5cbiAgICAgICAgIyBwb3B1cEZpZy5hbmltYXRlXG4gICAgICAgICMgICAgIHdpZHRoOiBmaWdXaWR0aFxuICAgICAgICAjICAgICA1MDBcbiAgICAgICAgIyAgICAgLT5cbiAgICAgICAgIyAgICAgICAgIHBvcHVwRmlnLmFuaW1hdGVcbiAgICAgICAgIyAgICAgICAgICAgICBoZWlnaHQ6IHBvcHVwSW1nLm91dGVySGVpZ2h0KClcbiAgICAgICAgIyAgICAgICAgICAgICA1MDBcbiAgICAgICAgIyAgICAgICAgICAgICAtPlxuICAgICAgICAjICAgICAgICAgICAgICAgICBwb3B1cEltZy5hbmltYXRlXG4gICAgICAgICMgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICMgICAgICAgICAgICAgICAgICAgICA1MDBcblxuICAgICAgICAjIHBvcHVwRmlnLmFuaW1hdGVcbiAgICAgICAgIyAgICAgdG9wOiB3aW5kb3cuaW5uZXJIZWlnaHQvMiAtIEBvZmZzZXRIZWlnaHQvMlxuICAgICAgICAjICAgICBsZWZ0OiB3aW5kb3cuaW5uZXJXaWR0aC8yIC0gQG9mZnNldFdpZHRoLzIgLSAxMFxuICAgICAgICAjICAgICA1MDBcbiAgICAgICAgIyAgICAgLT5cbiAgICAgICAgIyAgICAgICAgICQoQCkuY3NzXG4gICAgICAgICMgICAgICAgICAgICAgcG9zaXRpb246ICdzdGF0aWMnXG4gICAgICAgICMgICAgICAgICAgICAgdG9wOiAnYXV0bydcbiAgICAgICAgIyAgICAgICAgICAgICBsZWZ0OiAnYXV0bydcbiAgICAgICAgIyAgICAgICAgIHBvcHVwRmlnLmFuaW1hdGVcbiAgICAgICAgIyAgICAgICAgICAgICB3aWR0aDogcG9wdXBJbWcub3V0ZXJXaWR0aCgpXG4gICAgICAgICMgICAgICAgICAgICAgaGVpZ2h0OiBwb3B1cEltZy5vdXRlckhlaWdodCgpXG4gICAgICAgICMgICAgICAgICAgICAgNTAwXG4gICAgICAgICMgICAgICAgICAgICAgJ2xpbmVhcidcbiAgICAgICAgIyAgICAgICAgIHBvcHVwSW1nLmFuaW1hdGVcbiAgICAgICAgIyAgICAgICAgICAgICBtYXJnaW46IDBcbiAgICAgICAgIyAgICAgICAgICAgICA1MDBcbiAgICAgICAgIyAgICAgICAgICAgICAnbGluZWFyJ1xuICAgICAgICAjICAgICAgICAgICAgIC0+XG4gICAgICAgICMgICAgICAgICAgICAgICAgIHBvcHVwRmlnLmNzc1xuICAgICAgICAjICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgICAgIyAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnYXV0bydcbiAgICAgICAgIyAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nXG4gICAgICAgICMgICAgICAgICAgICAgICAgIHBvcHVwSW1nLmNzcyBwb3B1cEltZ0NTU1xuICAgICAgICAjICAgICAgICAgICAgICAgICBwb3B1cEZpZy5hbmltYXRlXG4gICAgICAgICMgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZmlnV2lkdGhcbiAgICAgICAgIyAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogZmlnV2lkdGgqaW1nUmF0aW9cbiAgICAgICAgIyAgICAgICAgICAgICAgICAgICAgIDcwMFxuXG4gICAgICAgIHBvcHVwRmlnLmFuaW1hdGVcbiAgICAgICAgICAgIHRvcDogd2luZG93LmlubmVySGVpZ2h0LzIgLSBwb3B1cEltZy5vdXRlckhlaWdodCgpLzJcbiAgICAgICAgICAgIGxlZnQ6IHdpbmRvdy5pbm5lcldpZHRoLzIgLSBwb3B1cEltZy5vdXRlcldpZHRoKCkvMiAtIDEwXG4gICAgICAgICAgICB3aWR0aDogcG9wdXBJbWcub3V0ZXJXaWR0aCgpXG4gICAgICAgICAgICBoZWlnaHQ6IHBvcHVwSW1nLm91dGVySGVpZ2h0KClcbiAgICAgICAgICAgIDUwMFxuICAgICAgICAgICAgJ2xpbmVhcidcbiAgICAgICAgIyBkZWJ1Z2dlclxuICAgICAgICBwb3B1cEltZy5hbmltYXRlXG4gICAgICAgICAgICBtYXJnaW46IDBcbiAgICAgICAgICAgIDUwMFxuICAgICAgICAgICAgJ2xpbmVhcidcbiAgICAgICAgICAgIC0+XG4gICAgICAgICAgICAgICAgcG9wdXBGaWcuY3NzXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnc3RhdGljJ1xuICAgICAgICAgICAgICAgICAgICB0b3A6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnYXV0bydcbiAgICAgICAgICAgICAgICBwb3B1cEltZy5jc3MgcG9wdXBJbWdDU1NcbiAgICAgICAgICAgICAgICBwb3B1cEZpZy5hbmltYXRlXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBmaWdXaWR0aFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGZpZ1dpZHRoKmltZ1JhdGlvXG4gICAgICAgICAgICAgICAgICAgIDcwMFxuICAgICAgICAgICAgICAgICAgICAtPlxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBGaWcuY3NzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIHdpZHRoOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGhlaWdodDogJ2F1dG8nXG5cbiAgICAgICAgcG9wdXAub24gJ2NsaWNrJywgLT5cbiAgICAgICAgICAgICQoQCkucmVtb3ZlQ2xhc3MoJ2Z1bGxzY3JlZW4nKVxuICAgICAgICAgICAgY2FwdGlvbi5oaWRlKClcbiAgICAgICAgICAgICQoQCkuY3NzKCdvcGFjaXR5JywgMClcbiAgICAgICAgICAgIHBvcHVwSW1nLmNzcyBpbml0SW1nQ1NTXG4gICAgICAgICAgICBwb3B1cEZpZy5jc3NcbiAgICAgICAgICAgICAgICB3aWR0aDogJzIwcHgnXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAnMjBweCdcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgICAgICAgICAgc2hvd0J0bi5yZW1vdmVDbGFzcyAnaWNvbi1hcnJvdy11cCdcbiAgICAgICAgICAgIHBvcHVwTmF2LmhpZGUoKVxuXG4gICAgcG9wdXAgPSAkKCcucG9wdXAnKVxuXG4gICAgcG9wdXBGaWcgPSBwb3B1cC5maW5kICdmaWd1cmUnXG4gICAgcG9wdXBJbWcgPSBwb3B1cC5maW5kICdpbWcnXG4gICAgcG9wdXBOYXYgPSBwb3B1cC5maW5kICduYXYnXG4gICAgcG9wdXBOYXYuaGlkZSgpXG4gICAgcG9wdXBOYXYub24gJ2NsaWNrJywgLT5cbiAgICAgICAgZmFsc2VcbiAgICBjbG9zZUJ0biA9IHBvcHVwTmF2LmZpbmQgJy5pY29uLWNsb3NlJ1xuICAgIHNob3dCdG4gPSBwb3B1cE5hdi5maW5kICcuaWNvbi1hcnJvdy1kb3duJ1xuICAgIGNhcHRpb24gPSBwb3B1cC5maW5kICdmaWdjYXB0aW9uJ1xuXG4gICAgIyBleGl0IGZ1bGxzY3JlZW4gbW9kZVxuICAgIGNsb3NlQnRuLm9uICdjbGljaycsIC0+XG4gICAgICAgIHBvcHVwLmNsaWNrKClcblxuICAgICMgdG9nZ2xlIGNhcHRpb24gdmlzaWJpbGl0eVxuICAgIHNob3dCdG4ub24gJ2NsaWNrJywgLT5cbiAgICAgICAgaW1nSGVpZ2h0ID0gcG9wdXBJbWcub3V0ZXJIZWlnaHQoKVxuICAgICAgICBuYXZIZWlnaHQgPSAkKEApLnBhcmVudCgpLm91dGVySGVpZ2h0KClcbiAgICAgICAgY2FwdGlvbi5vdXRlckhlaWdodChpbWdIZWlnaHQgLSBuYXZIZWlnaHQpXG4gICAgICAgIGNhcHRpb24uY3NzKCd0b3AnLCBuYXZIZWlnaHQpXG4gICAgICAgIGNhcHRpb24uc2xpZGVUb2dnbGUgNTAwXG4gICAgICAgICQoQCkudG9nZ2xlQ2xhc3MoJ2ljb24tYXJyb3ctdXAnKVxuXG4gICAgJCh3aW5kb3cpLm9uICdyZXNpemUnLCAtPlxuICAgICAgICBpbWdIZWlnaHQgPSBwb3B1cEltZy5vdXRlckhlaWdodCgpXG4gICAgICAgIG5hdkhlaWdodCA9IHBvcHVwTmF2Lm91dGVySGVpZ2h0KClcbiAgICAgICAgY2FwdGlvbi5vdXRlckhlaWdodChpbWdIZWlnaHQgLSBuYXZIZWlnaHQpXG4gICAgICAgIGNhcHRpb24uY3NzKCd0b3AnLCBuYXZIZWlnaHQpXG5cbiAgICBwb3B1cEltZy5vbiAnY2xpY2snLCAoZSkgLT5cbiAgICAgICAgcG9wdXBOYXYuZmFkZVRvZ2dsZSA1MDBcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuXG4gICAgY2FwdGlvbi5vbiAnY2xpY2snLCAoZSkgLT5cbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuIl19
