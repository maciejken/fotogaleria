$(function() {
  var body, caption, closeBtn, figures, header, menuBtn, navMenu, popup, popupFig, popupImg, popupNav, showBtn;
  body = $('body');
  header = $('header');
  menuBtn = header.find('a');
  navMenu = $('nav.menu');
  navMenu.hide();
  menuBtn.on('click', function() {
    navMenu.slideToggle(500);
    $(this).toggleClass('icon-arrow-up');
    return $(this).toggleClass('icon-arrow-down');
  });
  figures = $('figure.post');
  figures.on('mousemove', function(e) {
    var img, offset, x, y;
    offset = $(this).offset();
    x = -(e.pageX - offset.left) / 20;
    y = -(e.pageY - offset.top) / 20;
    img = $(this).find('img');
    img.css('left', x + 'px ');
    return img.css('top', y + 'px');
  });
  figures.on('click', function() {
    var figWidth, img, imgRatio, offset, winHeight, winRatio, winWidth;
    img = $(this).find('img');
    offset = this.getBoundingClientRect();
    popup.addClass('fullscreen');
    popupImg.attr('src', img.attr('src'));
    popup.animate({
      opacity: 1
    }, 500);
    popupFig.css('top', offset.top).css('left', offset.left).css('width', $(this).width()).css('height', $(this).height());
    popupImg.css('width', img.width()).css('margin', img.css('margin')).css('opacity', 1);
    winWidth = window.innerWidth;
    winHeight = window.innerHeight;
    winRatio = winHeight / winWidth;
    imgRatio = img.outerHeight() / img.outerWidth();
    $('p.width').text(window.innerWidth + ' ' + winWidth);
    if (winRatio < imgRatio) {
      figWidth = 100 * (winRatio / imgRatio) + '%';
    } else {
      figWidth = '100%';
    }
    popupFig.animate({
      top: window.innerHeight / 2 - this.offsetHeight / 2,
      left: window.innerWidth / 2 - this.offsetWidth / 2 - 10
    }, 500, function() {
      $(this).css('position', 'static').css('top', 'auto').css('left', 'auto');
      popupFig.animate({
        width: popupImg.outerWidth(),
        height: popupImg.outerHeight()
      }, 500);
      return popupImg.animate({
        margin: 0
      }, 500, function() {
        return popupFig.css('position', 'relative');
      });
    });
    return popup.on('click', function() {
      $(this).removeClass('fullscreen');
      caption.hide();
      $(this).css('opacity', 0);
      popupImg.css('opacity', 0);
      popupFig.css('width', '20px').css('height', '20px').css('position', 'absolute');
      showBtn.removeClass('icon-arrow-up');
      return popupNav.hide();
    });
  });
  popup = $('.popup');
  popupFig = popup.find('figure');
  popupImg = popup.find('img');
  popupNav = popup.find('nav');
  popupNav.hide();
  popupNav.on('click', function() {
    return false;
  });
  closeBtn = popupNav.find('.icon-close');
  showBtn = popupNav.find('.icon-arrow-down');
  caption = popup.find('figcaption');
  closeBtn.on('click', function() {
    return popup.click();
  });
  showBtn.on('click', function() {
    var imgHeight, navHeight;
    imgHeight = popupImg.outerHeight();
    navHeight = $(this).parent().outerHeight();
    caption.outerHeight(imgHeight - navHeight);
    caption.css('top', navHeight);
    caption.slideToggle(500);
    return $(this).toggleClass('icon-arrow-up');
  });
  $(window).on('resize', function() {
    var imgHeight, navHeight;
    imgHeight = popupImg.outerHeight();
    navHeight = popupNav.outerHeight();
    caption.outerHeight(imgHeight - navHeight);
    return caption.css('top', navHeight);
  });
  popupImg.on('click', function(e) {
    popupNav.fadeToggle(500);
    return e.stopImmediatePropagation();
  });
  return caption.on('click', function(e) {
    return e.stopImmediatePropagation();
  });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJhcHAuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLENBQUEsQ0FBRSxTQUFBO0FBR0UsTUFBQTtFQUFBLElBQUEsR0FBTyxDQUFBLENBQUUsTUFBRjtFQUNQLE1BQUEsR0FBUyxDQUFBLENBQUUsUUFBRjtFQUNULE9BQUEsR0FBVSxNQUFNLENBQUMsSUFBUCxDQUFZLEdBQVo7RUFDVixPQUFBLEdBQVUsQ0FBQSxDQUFFLFVBQUY7RUFDVixPQUFPLENBQUMsSUFBUixDQUFBO0VBQ0EsT0FBTyxDQUFDLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFNBQUE7SUFDaEIsT0FBTyxDQUFDLFdBQVIsQ0FBb0IsR0FBcEI7SUFDQSxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsV0FBTCxDQUFpQixlQUFqQjtXQUNBLENBQUEsQ0FBRSxJQUFGLENBQUksQ0FBQyxXQUFMLENBQWlCLGlCQUFqQjtFQUhnQixDQUFwQjtFQUtBLE9BQUEsR0FBVSxDQUFBLENBQUUsYUFBRjtFQUdWLE9BQU8sQ0FBQyxFQUFSLENBQVcsV0FBWCxFQUF3QixTQUFDLENBQUQ7QUFDcEIsUUFBQTtJQUFBLE1BQUEsR0FBUyxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsTUFBTCxDQUFBO0lBQ1QsQ0FBQSxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBRixHQUFVLE1BQU0sQ0FBQyxJQUFsQixDQUFELEdBQXlCO0lBQzdCLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUYsR0FBVSxNQUFNLENBQUMsR0FBbEIsQ0FBRCxHQUF3QjtJQUU1QixHQUFBLEdBQU0sQ0FBQSxDQUFFLElBQUYsQ0FBSSxDQUFDLElBQUwsQ0FBVSxLQUFWO0lBQ04sR0FBRyxDQUFDLEdBQUosQ0FBUSxNQUFSLEVBQWdCLENBQUEsR0FBSSxLQUFwQjtXQUNBLEdBQUcsQ0FBQyxHQUFKLENBQVEsS0FBUixFQUFlLENBQUEsR0FBSSxJQUFuQjtFQVBvQixDQUF4QjtFQVVB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aEM7SUFDQSxPQUFPLENBQUMsR0FBUixDQUFZLEtBQVosRUFBbUIsU0FBbkI7SUFDQSxPQUFPLENBQUMsV0FBUixDQUFvQixHQUFwQjtXQUNBLENBQUEsQ0FBRSxJQUFGLENBQUksQ0FBQyxXQUFMLENBQWlCLGVBQWpCO0VBTmdCLENBQXBCO0VBUUEsQ0FBQSxDQUFFLE1BQUYsQ0FBUyxDQUFDLEVBQVYsQ0FBYSxRQUFiLEVBQXVCLFNBQUE7QUFDbkIsUUFBQTtJQUFBLFNBQUEsR0FBWSxRQUFRLENBQUMsV0FBVCxDQUFBO0lBQ1osU0FBQSxHQUFZLFFBQVEsQ0FBQyxXQUFULENBQUE7SUFDWixPQUFPLENBQUMsV0FBUixDQUFvQixTQUFBLEdBQVksU0FBaEM7V0FDQSxPQUFPLENBQUMsR0FBUixDQUFZLEtBQVosRUFBbUIsU0FBbkI7RUFKbUIsQ0FBdkI7RUFNQSxRQUFRLENBQUMsRUFBVCxDQUFZLE9BQVosRUFBcUIsU0FBQyxDQUFEO0lBQ2pCLFFBQVEsQ0FBQyxVQUFULENBQW9CLEdBQXBCO1dBQ0EsQ0FBQyxDQUFDLHdCQUFGLENBQUE7RUFGaUIsQ0FBckI7U0FJQSxPQUFPLENBQUMsRUFBUixDQUFXLE9BQVgsRUFBb0IsU0FBQyxDQUFEO1dBQ2hCLENBQUMsQ0FBQyx3QkFBRixDQUFBO0VBRGdCLENBQXBCO0FBcklGLENBQUYiLCJzb3VyY2VzQ29udGVudCI6WyIkIC0+XG5cbiAgICAjIHNob3cvaGlkZSBuYXYgbWVudSBiYXJcbiAgICBib2R5ID0gJCgnYm9keScpXG4gICAgaGVhZGVyID0gJCgnaGVhZGVyJylcbiAgICBtZW51QnRuID0gaGVhZGVyLmZpbmQgJ2EnXG4gICAgbmF2TWVudSA9ICQoJ25hdi5tZW51JylcbiAgICBuYXZNZW51LmhpZGUoKVxuICAgIG1lbnVCdG4ub24gJ2NsaWNrJywgLT5cbiAgICAgICAgbmF2TWVudS5zbGlkZVRvZ2dsZSA1MDBcbiAgICAgICAgJChAKS50b2dnbGVDbGFzcygnaWNvbi1hcnJvdy11cCcpXG4gICAgICAgICQoQCkudG9nZ2xlQ2xhc3MoJ2ljb24tYXJyb3ctZG93bicpXG5cbiAgICBmaWd1cmVzID0gJCgnZmlndXJlLnBvc3QnKVxuXG4gICAgIyBtb3ZlIGltYWdlIG9uIG1vdXNlbW92ZVxuICAgIGZpZ3VyZXMub24gJ21vdXNlbW92ZScsIChlKSAtPlxuICAgICAgICBvZmZzZXQgPSAkKEApLm9mZnNldCgpXG4gICAgICAgIHggPSAtKGUucGFnZVggLSBvZmZzZXQubGVmdCkvMjBcbiAgICAgICAgeSA9IC0oZS5wYWdlWSAtIG9mZnNldC50b3ApLzIwXG5cbiAgICAgICAgaW1nID0gJChAKS5maW5kICdpbWcnXG4gICAgICAgIGltZy5jc3MoJ2xlZnQnLCB4ICsgJ3B4ICcpXG4gICAgICAgIGltZy5jc3MoJ3RvcCcsIHkgKyAncHgnKVxuXG4gICAgIyBzaG93IGltYWdlIG9uIGZ1bGxzY3JlZW5cbiAgICBmaWd1cmVzLm9uICdjbGljaycsIC0+XG4gICAgICAgIGltZyA9ICQoQCkuZmluZCAnaW1nJ1xuICAgICAgICBvZmZzZXQgPSBAZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgcG9wdXAuYWRkQ2xhc3MoJ2Z1bGxzY3JlZW4nKVxuICAgICAgICBwb3B1cEltZy5hdHRyKCdzcmMnLCBpbWcuYXR0cignc3JjJykpXG4gICAgICAgIHBvcHVwLmFuaW1hdGVcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIDUwMFxuICAgICAgICBwb3B1cEZpZy5jc3MoJ3RvcCcsIG9mZnNldC50b3ApLmNzcygnbGVmdCcsIG9mZnNldC5sZWZ0KVxuICAgICAgICAuY3NzKCd3aWR0aCcsICQoQCkud2lkdGgoKSkuY3NzKCdoZWlnaHQnLCAkKEApLmhlaWdodCgpKVxuICAgICAgICBwb3B1cEltZy5jc3MoJ3dpZHRoJywgaW1nLndpZHRoKCkpLmNzcygnbWFyZ2luJywgaW1nLmNzcygnbWFyZ2luJykpXG4gICAgICAgIC5jc3MoJ29wYWNpdHknLCAxKVxuXG4gICAgICAgIHdpbldpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgICAgICAgd2luSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgIHdpblJhdGlvID0gIHdpbkhlaWdodCAvIHdpbldpZHRoXG4gICAgICAgIGltZ1JhdGlvID0gaW1nLm91dGVySGVpZ2h0KCkgLyBpbWcub3V0ZXJXaWR0aCgpXG5cbiAgICAgICAgJCgncC53aWR0aCcpLnRleHQod2luZG93LmlubmVyV2lkdGggKyAnICcgKyB3aW5XaWR0aClcblxuICAgICAgICBpZiB3aW5SYXRpbyA8IGltZ1JhdGlvXG4gICAgICAgICAgICBmaWdXaWR0aCA9IDEwMCood2luUmF0aW8vaW1nUmF0aW8pICsgJyUnXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZpZ1dpZHRoID0gJzEwMCUnXG5cbiAgICAgICAgIyBwb3B1cEZpZy5hbmltYXRlXG4gICAgICAgICMgICAgIHdpZHRoOiBmaWdXaWR0aFxuICAgICAgICAjICAgICA1MDBcbiAgICAgICAgIyAgICAgLT5cbiAgICAgICAgIyAgICAgICAgIHBvcHVwRmlnLmFuaW1hdGVcbiAgICAgICAgIyAgICAgICAgICAgICBoZWlnaHQ6IHBvcHVwSW1nLm91dGVySGVpZ2h0KClcbiAgICAgICAgIyAgICAgICAgICAgICA1MDBcbiAgICAgICAgIyAgICAgICAgICAgICAtPlxuICAgICAgICAjICAgICAgICAgICAgICAgICBwb3B1cEltZy5hbmltYXRlXG4gICAgICAgICMgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICMgICAgICAgICAgICAgICAgICAgICA1MDBcblxuICAgICAgICBwb3B1cEZpZy5hbmltYXRlXG4gICAgICAgICAgICB0b3A6IHdpbmRvdy5pbm5lckhlaWdodC8yIC0gQG9mZnNldEhlaWdodC8yXG4gICAgICAgICAgICBsZWZ0OiB3aW5kb3cuaW5uZXJXaWR0aC8yIC0gQG9mZnNldFdpZHRoLzIgLSAxMFxuICAgICAgICAgICAgNTAwXG4gICAgICAgICAgICAtPlxuICAgICAgICAgICAgICAgICQoQCkuY3NzKCdwb3NpdGlvbicsICdzdGF0aWMnKS5jc3MoJ3RvcCcsICdhdXRvJykuY3NzKCdsZWZ0JywgJ2F1dG8nKVxuICAgICAgICAgICAgICAgIHBvcHVwRmlnLmFuaW1hdGVcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHBvcHVwSW1nLm91dGVyV2lkdGgoKVxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHBvcHVwSW1nLm91dGVySGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgNTAwXG4gICAgICAgICAgICAgICAgcG9wdXBJbWcuYW5pbWF0ZVxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDBcbiAgICAgICAgICAgICAgICAgICAgNTAwXG4gICAgICAgICAgICAgICAgICAgIC0+XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEZpZy5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICMgcG9wdXBJbWcuY3NzKCd3aWR0aCcsICcxMDAlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICMgcG9wdXBGaWcuYW5pbWF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgd2lkdGg6IGZpZ1dpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAjICAgICBoZWlnaHQ6IGZpZ1dpZHRoKmltZ1JhdGlvXG4gICAgICAgICAgICAgICAgICAgICAgICAjICAgICA1MDBcblxuICAgICAgICBwb3B1cC5vbiAnY2xpY2snLCAtPlxuICAgICAgICAgICAgJChAKS5yZW1vdmVDbGFzcygnZnVsbHNjcmVlbicpXG4gICAgICAgICAgICBjYXB0aW9uLmhpZGUoKVxuICAgICAgICAgICAgJChAKS5jc3MoJ29wYWNpdHknLCAwKVxuICAgICAgICAgICAgcG9wdXBJbWcuY3NzKCdvcGFjaXR5JywgMClcbiAgICAgICAgICAgIHBvcHVwRmlnLmNzcygnd2lkdGgnLCAnMjBweCcpLmNzcygnaGVpZ2h0JywgJzIwcHgnKVxuICAgICAgICAgICAgLmNzcygncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxuICAgICAgICAgICAgc2hvd0J0bi5yZW1vdmVDbGFzcyAnaWNvbi1hcnJvdy11cCdcbiAgICAgICAgICAgIHBvcHVwTmF2LmhpZGUoKVxuXG4gICAgICAgICMgZG9kYcSHIGVmZWt0IHBvd2nEmWtzemFuaWEgcG/FgsSFY3pvbmVnbyB6XG4gICAgICAgICMgcHJ6ZW1pZXN6Y3phbmllbSBrbGlrbmnEmXRlZ28gb2JyYXprYVxuICAgICAgICAjIHRhayBqYWsgdyBvc1hcblxuICAgIHBvcHVwID0gJCgnLnBvcHVwJylcblxuICAgIHBvcHVwRmlnID0gcG9wdXAuZmluZCAnZmlndXJlJ1xuICAgIHBvcHVwSW1nID0gcG9wdXAuZmluZCAnaW1nJ1xuICAgIHBvcHVwTmF2ID0gcG9wdXAuZmluZCAnbmF2J1xuICAgIHBvcHVwTmF2LmhpZGUoKVxuICAgIHBvcHVwTmF2Lm9uICdjbGljaycsIC0+XG4gICAgICAgIGZhbHNlXG4gICAgY2xvc2VCdG4gPSBwb3B1cE5hdi5maW5kICcuaWNvbi1jbG9zZSdcbiAgICBzaG93QnRuID0gcG9wdXBOYXYuZmluZCAnLmljb24tYXJyb3ctZG93bidcbiAgICBjYXB0aW9uID0gcG9wdXAuZmluZCAnZmlnY2FwdGlvbidcblxuICAgICMgZXhpdCBmdWxsc2NyZWVuIG1vZGVcbiAgICBjbG9zZUJ0bi5vbiAnY2xpY2snLCAtPlxuICAgICAgICBwb3B1cC5jbGljaygpXG5cbiAgICAjIHRvZ2dsZSBjYXB0aW9uIHZpc2liaWxpdHlcbiAgICBzaG93QnRuLm9uICdjbGljaycsIC0+XG4gICAgICAgIGltZ0hlaWdodCA9IHBvcHVwSW1nLm91dGVySGVpZ2h0KClcbiAgICAgICAgbmF2SGVpZ2h0ID0gJChAKS5wYXJlbnQoKS5vdXRlckhlaWdodCgpXG4gICAgICAgIGNhcHRpb24ub3V0ZXJIZWlnaHQoaW1nSGVpZ2h0IC0gbmF2SGVpZ2h0KVxuICAgICAgICBjYXB0aW9uLmNzcygndG9wJywgbmF2SGVpZ2h0KVxuICAgICAgICBjYXB0aW9uLnNsaWRlVG9nZ2xlIDUwMFxuICAgICAgICAkKEApLnRvZ2dsZUNsYXNzKCdpY29uLWFycm93LXVwJylcblxuICAgICQod2luZG93KS5vbiAncmVzaXplJywgLT5cbiAgICAgICAgaW1nSGVpZ2h0ID0gcG9wdXBJbWcub3V0ZXJIZWlnaHQoKVxuICAgICAgICBuYXZIZWlnaHQgPSBwb3B1cE5hdi5vdXRlckhlaWdodCgpXG4gICAgICAgIGNhcHRpb24ub3V0ZXJIZWlnaHQoaW1nSGVpZ2h0IC0gbmF2SGVpZ2h0KVxuICAgICAgICBjYXB0aW9uLmNzcygndG9wJywgbmF2SGVpZ2h0KVxuXG4gICAgcG9wdXBJbWcub24gJ2NsaWNrJywgKGUpIC0+XG4gICAgICAgIHBvcHVwTmF2LmZhZGVUb2dnbGUgNTAwXG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcblxuICAgIGNhcHRpb24ub24gJ2NsaWNrJywgKGUpIC0+XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcbiJdfQ==
