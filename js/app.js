$(function() {
  var caption, closeBtn, figures, header, menuBtn, navMenu, popup, popupImg, popupNav, showBtn;
  header = $('header');
  menuBtn = header.find('a');
  navMenu = $('nav.menu');
  navMenu.hide();
  menuBtn.on('click', function() {
    navMenu.slideToggle(500);
    $(this).toggleClass('icon-arrow-up');
    return $(this).toggleClass('icon-arrow-down');
  });
  figures = $('figure.post');
  figures.on('mousemove', function(e) {
    var img, offset, x, y;
    offset = $(this).offset();
    x = -(e.pageX - offset.left) / 20;
    y = -(e.pageY - offset.top) / 20;
    img = $(this).find('img');
    img.css('left', x + 'px ');
    return img.css('top', y + 'px');
  });
  figures.on('click', function() {
    var img;
    img = $(this).find('img');
    popupImg.attr('src', img.attr('src'));
    popup.addClass('fullscreen');
    return popup.on('click', function() {
      $(this).removeClass('fullscreen');
      caption.hide();
      showBtn.removeClass('icon-arrow-up');
      return popupNav.hide();
    });
  });
  popup = $('.popup');
  popupImg = popup.find('img');
  popupNav = popup.find('nav');
  popupNav.hide();
  popupNav.on('click', function() {
    return false;
  });
  closeBtn = popupNav.find('.icon-close');
  showBtn = popupNav.find('.icon-arrow-down');
  caption = popup.find('figcaption');
  closeBtn.on('click', function() {
    return popup.click();
  });
  showBtn.on('click', function() {
    var imgHeight, navHeight;
    imgHeight = popupImg.outerHeight();
    navHeight = $(this).parent().outerHeight();
    caption.outerHeight(imgHeight - navHeight);
    caption.css('top', navHeight);
    caption.slideToggle(500);
    return $(this).toggleClass('icon-arrow-up');
  });
  $(window).on('resize', function() {
    var imgHeight, navHeight;
    imgHeight = popupImg.outerHeight();
    navHeight = popupNav.outerHeight();
    caption.outerHeight(imgHeight - navHeight);
    return caption.css('top', navHeight);
  });
  popupImg.on('click', function(e) {
    popupNav.fadeToggle(500);
    return e.stopImmediatePropagation();
  });
  return caption.on('click', function(e) {
    return e.stopImmediatePropagation();
  });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJhcHAuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLENBQUEsQ0FBRSxTQUFBO0FBR0UsTUFBQTtFQUFBLE1BQUEsR0FBUyxDQUFBLENBQUUsUUFBRjtFQUNULE9BQUEsR0FBVSxNQUFNLENBQUMsSUFBUCxDQUFZLEdBQVo7RUFDVixPQUFBLEdBQVUsQ0FBQSxDQUFFLFVBQUY7RUFDVixPQUFPLENBQUMsSUFBUixDQUFBO0VBQ0EsT0FBTyxDQUFDLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFNBQUE7SUFDaEIsT0FBTyxDQUFDLFdBQVIsQ0FBb0IsR0FBcEI7SUFDQSxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsV0FBTCxDQUFpQixlQUFqQjtXQUNBLENBQUEsQ0FBRSxJQUFGLENBQUksQ0FBQyxXQUFMLENBQWlCLGlCQUFqQjtFQUhnQixDQUFwQjtFQUtBLE9BQUEsR0FBVSxDQUFBLENBQUUsYUFBRjtFQUdWLE9BQU8sQ0FBQyxFQUFSLENBQVcsV0FBWCxFQUF3QixTQUFDLENBQUQ7QUFDcEIsUUFBQTtJQUFBLE1BQUEsR0FBUyxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsTUFBTCxDQUFBO0lBQ1QsQ0FBQSxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBRixHQUFVLE1BQU0sQ0FBQyxJQUFsQixDQUFELEdBQXlCO0lBQzdCLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUYsR0FBVSxNQUFNLENBQUMsR0FBbEIsQ0FBRCxHQUF3QjtJQUU1QixHQUFBLEdBQU0sQ0FBQSxDQUFFLElBQUYsQ0FBSSxDQUFDLElBQUwsQ0FBVSxLQUFWO0lBQ04sR0FBRyxDQUFDLEdBQUosQ0FBUSxNQUFSLEVBQWdCLENBQUEsR0FBSSxLQUFwQjtXQUNBLEdBQUcsQ0FBQyxHQUFKLENBQVEsS0FBUixFQUFlLENBQUEsR0FBSSxJQUFuQjtFQVBvQixDQUF4QjtFQVVBLE9BQU8sQ0FBQyxFQUFSLENBQVcsT0FBWCxFQUFvQixTQUFBO0FBQ2hCLFFBQUE7SUFBQSxHQUFBLEdBQU0sQ0FBQSxDQUFFLElBQUYsQ0FBSSxDQUFDLElBQUwsQ0FBVSxLQUFWO0lBQ04sUUFBUSxDQUFDLElBQVQsQ0FBYyxLQUFkLEVBQXFCLEdBQUcsQ0FBQyxJQUFKLENBQVMsS0FBVCxDQUFyQjtJQUNBLEtBQUssQ0FBQyxRQUFOLENBQWUsWUFBZjtXQUNBLEtBQUssQ0FBQyxFQUFOLENBQVMsT0FBVCxFQUFrQixTQUFBO01BQ2QsQ0FBQSxDQUFFLElBQUYsQ0FBSSxDQUFDLFdBQUwsQ0FBaUIsWUFBakI7TUFDQSxPQUFPLENBQUMsSUFBUixDQUFBO01BQ0EsT0FBTyxDQUFDLFdBQVIsQ0FBb0IsZUFBcEI7YUFDQSxRQUFRLENBQUMsSUFBVCxDQUFBO0lBSmMsQ0FBbEI7RUFKZ0IsQ0FBcEI7RUFVQSxLQUFBLEdBQVEsQ0FBQSxDQUFFLFFBQUY7RUFDUixRQUFBLEdBQVcsS0FBSyxDQUFDLElBQU4sQ0FBVyxLQUFYO0VBQ1gsUUFBQSxHQUFXLEtBQUssQ0FBQyxJQUFOLENBQVcsS0FBWDtFQUNYLFFBQVEsQ0FBQyxJQUFULENBQUE7RUFDQSxRQUFRLENBQUMsRUFBVCxDQUFZLE9BQVosRUFBcUIsU0FBQTtXQUNqQjtFQURpQixDQUFyQjtFQUVBLFFBQUEsR0FBVyxRQUFRLENBQUMsSUFBVCxDQUFjLGFBQWQ7RUFDWCxPQUFBLEdBQVUsUUFBUSxDQUFDLElBQVQsQ0FBYyxrQkFBZDtFQUNWLE9BQUEsR0FBVSxLQUFLLENBQUMsSUFBTixDQUFXLFlBQVg7RUFHVixRQUFRLENBQUMsRUFBVCxDQUFZLE9BQVosRUFBcUIsU0FBQTtXQUNqQixLQUFLLENBQUMsS0FBTixDQUFBO0VBRGlCLENBQXJCO0VBSUEsT0FBTyxDQUFDLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFNBQUE7QUFDaEIsUUFBQTtJQUFBLFNBQUEsR0FBWSxRQUFRLENBQUMsV0FBVCxDQUFBO0lBQ1osU0FBQSxHQUFZLENBQUEsQ0FBRSxJQUFGLENBQUksQ0FBQyxNQUFMLENBQUEsQ0FBYSxDQUFDLFdBQWQsQ0FBQTtJQUNaLE9BQU8sQ0FBQyxXQUFSLENBQW9CLFNBQUEsR0FBWSxTQUFoQztJQUNBLE9BQU8sQ0FBQyxHQUFSLENBQVksS0FBWixFQUFtQixTQUFuQjtJQUNBLE9BQU8sQ0FBQyxXQUFSLENBQW9CLEdBQXBCO1dBQ0EsQ0FBQSxDQUFFLElBQUYsQ0FBSSxDQUFDLFdBQUwsQ0FBaUIsZUFBakI7RUFOZ0IsQ0FBcEI7RUFRQSxDQUFBLENBQUUsTUFBRixDQUFTLENBQUMsRUFBVixDQUFhLFFBQWIsRUFBdUIsU0FBQTtBQUNuQixRQUFBO0lBQUEsU0FBQSxHQUFZLFFBQVEsQ0FBQyxXQUFULENBQUE7SUFDWixTQUFBLEdBQVksUUFBUSxDQUFDLFdBQVQsQ0FBQTtJQUNaLE9BQU8sQ0FBQyxXQUFSLENBQW9CLFNBQUEsR0FBWSxTQUFoQztXQUNBLE9BQU8sQ0FBQyxHQUFSLENBQVksS0FBWixFQUFtQixTQUFuQjtFQUptQixDQUF2QjtFQU1BLFFBQVEsQ0FBQyxFQUFULENBQVksT0FBWixFQUFxQixTQUFDLENBQUQ7SUFDakIsUUFBUSxDQUFDLFVBQVQsQ0FBb0IsR0FBcEI7V0FDQSxDQUFDLENBQUMsd0JBQUYsQ0FBQTtFQUZpQixDQUFyQjtTQUlBLE9BQU8sQ0FBQyxFQUFSLENBQVcsT0FBWCxFQUFvQixTQUFDLENBQUQ7V0FDaEIsQ0FBQyxDQUFDLHdCQUFGLENBQUE7RUFEZ0IsQ0FBcEI7QUFwRUYsQ0FBRiIsInNvdXJjZXNDb250ZW50IjpbIiQgLT5cblxuICAgICMgc2hvdy9oaWRlIG5hdiBtZW51IGJhclxuICAgIGhlYWRlciA9ICQoJ2hlYWRlcicpXG4gICAgbWVudUJ0biA9IGhlYWRlci5maW5kICdhJ1xuICAgIG5hdk1lbnUgPSAkKCduYXYubWVudScpXG4gICAgbmF2TWVudS5oaWRlKClcbiAgICBtZW51QnRuLm9uICdjbGljaycsIC0+XG4gICAgICAgIG5hdk1lbnUuc2xpZGVUb2dnbGUgNTAwXG4gICAgICAgICQoQCkudG9nZ2xlQ2xhc3MoJ2ljb24tYXJyb3ctdXAnKVxuICAgICAgICAkKEApLnRvZ2dsZUNsYXNzKCdpY29uLWFycm93LWRvd24nKVxuXG4gICAgZmlndXJlcyA9ICQoJ2ZpZ3VyZS5wb3N0JylcblxuICAgICMgbW92ZSBpbWFnZSBvbiBtb3VzZW1vdmVcbiAgICBmaWd1cmVzLm9uICdtb3VzZW1vdmUnLCAoZSkgLT5cbiAgICAgICAgb2Zmc2V0ID0gJChAKS5vZmZzZXQoKVxuICAgICAgICB4ID0gLShlLnBhZ2VYIC0gb2Zmc2V0LmxlZnQpLzIwXG4gICAgICAgIHkgPSAtKGUucGFnZVkgLSBvZmZzZXQudG9wKS8yMFxuXG4gICAgICAgIGltZyA9ICQoQCkuZmluZCAnaW1nJ1xuICAgICAgICBpbWcuY3NzKCdsZWZ0JywgeCArICdweCAnKVxuICAgICAgICBpbWcuY3NzKCd0b3AnLCB5ICsgJ3B4JylcblxuICAgICMgc2hvdyBpbWFnZSBvbiBmdWxsc2NyZWVuXG4gICAgZmlndXJlcy5vbiAnY2xpY2snLCAtPlxuICAgICAgICBpbWcgPSAkKEApLmZpbmQgJ2ltZydcbiAgICAgICAgcG9wdXBJbWcuYXR0cignc3JjJywgaW1nLmF0dHIoJ3NyYycpKVxuICAgICAgICBwb3B1cC5hZGRDbGFzcygnZnVsbHNjcmVlbicpXG4gICAgICAgIHBvcHVwLm9uICdjbGljaycsIC0+XG4gICAgICAgICAgICAkKEApLnJlbW92ZUNsYXNzKCdmdWxsc2NyZWVuJylcbiAgICAgICAgICAgIGNhcHRpb24uaGlkZSgpXG4gICAgICAgICAgICBzaG93QnRuLnJlbW92ZUNsYXNzICdpY29uLWFycm93LXVwJ1xuICAgICAgICAgICAgcG9wdXBOYXYuaGlkZSgpXG5cbiAgICBwb3B1cCA9ICQoJy5wb3B1cCcpXG4gICAgcG9wdXBJbWcgPSBwb3B1cC5maW5kICdpbWcnXG4gICAgcG9wdXBOYXYgPSBwb3B1cC5maW5kICduYXYnXG4gICAgcG9wdXBOYXYuaGlkZSgpXG4gICAgcG9wdXBOYXYub24gJ2NsaWNrJywgLT5cbiAgICAgICAgZmFsc2VcbiAgICBjbG9zZUJ0biA9IHBvcHVwTmF2LmZpbmQgJy5pY29uLWNsb3NlJ1xuICAgIHNob3dCdG4gPSBwb3B1cE5hdi5maW5kICcuaWNvbi1hcnJvdy1kb3duJ1xuICAgIGNhcHRpb24gPSBwb3B1cC5maW5kICdmaWdjYXB0aW9uJ1xuXG4gICAgIyBleGl0IGZ1bGxzY3JlZW4gbW9kZVxuICAgIGNsb3NlQnRuLm9uICdjbGljaycsIC0+XG4gICAgICAgIHBvcHVwLmNsaWNrKClcblxuICAgICMgdG9nZ2xlIGNhcHRpb24gdmlzaWJpbGl0eVxuICAgIHNob3dCdG4ub24gJ2NsaWNrJywgLT5cbiAgICAgICAgaW1nSGVpZ2h0ID0gcG9wdXBJbWcub3V0ZXJIZWlnaHQoKVxuICAgICAgICBuYXZIZWlnaHQgPSAkKEApLnBhcmVudCgpLm91dGVySGVpZ2h0KClcbiAgICAgICAgY2FwdGlvbi5vdXRlckhlaWdodChpbWdIZWlnaHQgLSBuYXZIZWlnaHQpXG4gICAgICAgIGNhcHRpb24uY3NzKCd0b3AnLCBuYXZIZWlnaHQpXG4gICAgICAgIGNhcHRpb24uc2xpZGVUb2dnbGUgNTAwXG4gICAgICAgICQoQCkudG9nZ2xlQ2xhc3MoJ2ljb24tYXJyb3ctdXAnKVxuXG4gICAgJCh3aW5kb3cpLm9uICdyZXNpemUnLCAtPlxuICAgICAgICBpbWdIZWlnaHQgPSBwb3B1cEltZy5vdXRlckhlaWdodCgpXG4gICAgICAgIG5hdkhlaWdodCA9IHBvcHVwTmF2Lm91dGVySGVpZ2h0KClcbiAgICAgICAgY2FwdGlvbi5vdXRlckhlaWdodChpbWdIZWlnaHQgLSBuYXZIZWlnaHQpXG4gICAgICAgIGNhcHRpb24uY3NzKCd0b3AnLCBuYXZIZWlnaHQpXG5cbiAgICBwb3B1cEltZy5vbiAnY2xpY2snLCAoZSkgLT5cbiAgICAgICAgcG9wdXBOYXYuZmFkZVRvZ2dsZSA1MDBcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuXG4gICAgY2FwdGlvbi5vbiAnY2xpY2snLCAoZSkgLT5cbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuIl19
