$(function() {
  var body, caption, closeBtn, figures, header, menuBtn, navMenu, popup, popupFig, popupImg, popupNav, showBtn;
  body = $('body');
  header = $('header');
  menuBtn = header.find('a');
  navMenu = $('nav.menu');
  navMenu.hide();
  menuBtn.on('click', function() {
    navMenu.slideToggle(500);
    $(this).toggleClass('icon-arrow-up');
    return $(this).toggleClass('icon-arrow-down');
  });
  figures = $('figure.post');
  figures.on('mousemove', function(e) {
    var img, offset, x, y;
    offset = $(this).offset();
    x = -(e.pageX - offset.left) / 20;
    y = -(e.pageY - offset.top) / 20;
    img = $(this).find('img');
    img.css('left', x + 'px ');
    return img.css('top', y + 'px');
  });
  figures.on('click', function() {
    var figWidth, img, imgWidth, offset;
    img = $(this).find('img');
    figWidth = $(this).outerWidth();
    offset = $(this).offset();
    imgWidth = $(this).find('img').css('width');
    popup.addClass('fullscreen');
    popupImg.attr('src', img.attr('src'));
    popupFig.css('left', offset.left).css('top', offset.top).css('width', figWidth).css('height', figWidth);
    popupImg.css('width', imgWidth);
    popup.animate({
      opacity: 1
    }, 500);
    return popup.on('click', function() {
      $(this).removeClass('fullscreen');
      caption.hide();
      $(this).css('opacity', 0);
      showBtn.removeClass('icon-arrow-up');
      return popupNav.hide();
    });
  });
  popup = $('.popup');
  popupFig = popup.find('figure');
  popupImg = popup.find('img');
  popupNav = popup.find('nav');
  popupNav.hide();
  popupNav.on('click', function() {
    return false;
  });
  closeBtn = popupNav.find('.icon-close');
  showBtn = popupNav.find('.icon-arrow-down');
  caption = popup.find('figcaption');
  closeBtn.on('click', function() {
    return popup.click();
  });
  showBtn.on('click', function() {
    var imgHeight, navHeight;
    imgHeight = popupImg.outerHeight();
    navHeight = $(this).parent().outerHeight();
    caption.outerHeight(imgHeight - navHeight);
    caption.css('top', navHeight);
    caption.slideToggle(500);
    return $(this).toggleClass('icon-arrow-up');
  });
  $(window).on('resize', function() {
    var imgHeight, navHeight;
    imgHeight = popupImg.outerHeight();
    navHeight = popupNav.outerHeight();
    caption.outerHeight(imgHeight - navHeight);
    return caption.css('top', navHeight);
  });
  popupImg.on('click', function(e) {
    popupNav.fadeToggle(500);
    return e.stopImmediatePropagation();
  });
  return caption.on('click', function(e) {
    return e.stopImmediatePropagation();
  });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJhcHAuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLENBQUEsQ0FBRSxTQUFBO0FBR0UsTUFBQTtFQUFBLElBQUEsR0FBTyxDQUFBLENBQUUsTUFBRjtFQUNQLE1BQUEsR0FBUyxDQUFBLENBQUUsUUFBRjtFQUNULE9BQUEsR0FBVSxNQUFNLENBQUMsSUFBUCxDQUFZLEdBQVo7RUFDVixPQUFBLEdBQVUsQ0FBQSxDQUFFLFVBQUY7RUFDVixPQUFPLENBQUMsSUFBUixDQUFBO0VBQ0EsT0FBTyxDQUFDLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFNBQUE7SUFDaEIsT0FBTyxDQUFDLFdBQVIsQ0FBb0IsR0FBcEI7SUFDQSxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsV0FBTCxDQUFpQixlQUFqQjtXQUNBLENBQUEsQ0FBRSxJQUFGLENBQUksQ0FBQyxXQUFMLENBQWlCLGlCQUFqQjtFQUhnQixDQUFwQjtFQUtBLE9BQUEsR0FBVSxDQUFBLENBQUUsYUFBRjtFQUdWLE9BQU8sQ0FBQyxFQUFSLENBQVcsV0FBWCxFQUF3QixTQUFDLENBQUQ7QUFDcEIsUUFBQTtJQUFBLE1BQUEsR0FBUyxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsTUFBTCxDQUFBO0lBQ1QsQ0FBQSxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBRixHQUFVLE1BQU0sQ0FBQyxJQUFsQixDQUFELEdBQXlCO0lBQzdCLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUYsR0FBVSxNQUFNLENBQUMsR0FBbEIsQ0FBRCxHQUF3QjtJQUU1QixHQUFBLEdBQU0sQ0FBQSxDQUFFLElBQUYsQ0FBSSxDQUFDLElBQUwsQ0FBVSxLQUFWO0lBQ04sR0FBRyxDQUFDLEdBQUosQ0FBUSxNQUFSLEVBQWdCLENBQUEsR0FBSSxLQUFwQjtXQUNBLEdBQUcsQ0FBQyxHQUFKLENBQVEsS0FBUixFQUFlLENBQUEsR0FBSSxJQUFuQjtFQVBvQixDQUF4QjtFQVVB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QUFRLENBQUMsV0FBVCxDQUFBO0lBQ1osT0FBTyxDQUFDLFdBQVIsQ0FBb0IsU0FBQSxHQUFZLFNBQWhDO1dBQ0EsT0FBTyxDQUFDLEdBQVIsQ0FBWSxLQUFaLEVBQW1CLFNBQW5CO0VBSm1CLENBQXZCO0VBTUEsUUFBUSxDQUFDLEVBQVQsQ0FBWSxPQUFaLEVBQXFCLFNBQUMsQ0FBRDtJQUNqQixRQUFRLENBQUMsVUFBVCxDQUFvQixHQUFwQjtXQUNBLENBQUMsQ0FBQyx3QkFBRixDQUFBO0VBRmlCLENBQXJCO1NBSUEsT0FBTyxDQUFDLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFNBQUMsQ0FBRDtXQUNoQixDQUFDLENBQUMsd0JBQUYsQ0FBQTtFQURnQixDQUFwQjtBQXRGRixDQUFGIiwic291cmNlc0NvbnRlbnQiOlsiJCAtPlxuXG4gICAgIyBzaG93L2hpZGUgbmF2IG1lbnUgYmFyXG4gICAgYm9keSA9ICQoJ2JvZHknKVxuICAgIGhlYWRlciA9ICQoJ2hlYWRlcicpXG4gICAgbWVudUJ0biA9IGhlYWRlci5maW5kICdhJ1xuICAgIG5hdk1lbnUgPSAkKCduYXYubWVudScpXG4gICAgbmF2TWVudS5oaWRlKClcbiAgICBtZW51QnRuLm9uICdjbGljaycsIC0+XG4gICAgICAgIG5hdk1lbnUuc2xpZGVUb2dnbGUgNTAwXG4gICAgICAgICQoQCkudG9nZ2xlQ2xhc3MoJ2ljb24tYXJyb3ctdXAnKVxuICAgICAgICAkKEApLnRvZ2dsZUNsYXNzKCdpY29uLWFycm93LWRvd24nKVxuXG4gICAgZmlndXJlcyA9ICQoJ2ZpZ3VyZS5wb3N0JylcblxuICAgICMgbW92ZSBpbWFnZSBvbiBtb3VzZW1vdmVcbiAgICBmaWd1cmVzLm9uICdtb3VzZW1vdmUnLCAoZSkgLT5cbiAgICAgICAgb2Zmc2V0ID0gJChAKS5vZmZzZXQoKVxuICAgICAgICB4ID0gLShlLnBhZ2VYIC0gb2Zmc2V0LmxlZnQpLzIwXG4gICAgICAgIHkgPSAtKGUucGFnZVkgLSBvZmZzZXQudG9wKS8yMFxuXG4gICAgICAgIGltZyA9ICQoQCkuZmluZCAnaW1nJ1xuICAgICAgICBpbWcuY3NzKCdsZWZ0JywgeCArICdweCAnKVxuICAgICAgICBpbWcuY3NzKCd0b3AnLCB5ICsgJ3B4JylcblxuICAgICMgc2hvdyBpbWFnZSBvbiBmdWxsc2NyZWVuXG4gICAgZmlndXJlcy5vbiAnY2xpY2snLCAtPlxuICAgICAgICBpbWcgPSAkKEApLmZpbmQgJ2ltZydcbiAgICAgICAgZmlnV2lkdGggPSAkKEApLm91dGVyV2lkdGgoKVxuICAgICAgICBvZmZzZXQgPSAkKEApLm9mZnNldCgpXG4gICAgICAgIGltZ1dpZHRoID0gJChAKS5maW5kKCdpbWcnKS5jc3MoJ3dpZHRoJylcbiAgICAgICAgcG9wdXAuYWRkQ2xhc3MoJ2Z1bGxzY3JlZW4nKVxuICAgICAgICBwb3B1cEltZy5hdHRyKCdzcmMnLCBpbWcuYXR0cignc3JjJykpXG4gICAgICAgIHBvcHVwRmlnLmNzcygnbGVmdCcsIG9mZnNldC5sZWZ0KS5jc3MoJ3RvcCcsIG9mZnNldC50b3ApXG4gICAgICAgIC5jc3MoJ3dpZHRoJywgZmlnV2lkdGgpLmNzcygnaGVpZ2h0JywgZmlnV2lkdGgpXG4gICAgICAgIHBvcHVwSW1nLmNzcygnd2lkdGgnLCBpbWdXaWR0aClcbiAgICAgICAgcG9wdXAuYW5pbWF0ZVxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgNTAwXG4gICAgICAgIHBvcHVwLm9uICdjbGljaycsIC0+XG4gICAgICAgICAgICAkKEApLnJlbW92ZUNsYXNzKCdmdWxsc2NyZWVuJylcbiAgICAgICAgICAgICMgcG9wdXBGaWcucmVtb3ZlQ2xhc3MoJ2JpZycpXG4gICAgICAgICAgICBjYXB0aW9uLmhpZGUoKVxuICAgICAgICAgICAgJChAKS5jc3MoJ29wYWNpdHknLCAwKVxuICAgICAgICAgICAgc2hvd0J0bi5yZW1vdmVDbGFzcyAnaWNvbi1hcnJvdy11cCdcbiAgICAgICAgICAgIHBvcHVwTmF2LmhpZGUoKVxuXG4gICAgICAgICMgZG9kYcSHIGVmZWt0IHBvd2nEmWtzemFuaWEgcG/FgsSFY3pvbmVnbyB6XG4gICAgICAgICMgcHJ6ZW1pZXN6Y3phbmllbSBrbGlrbmnEmXRlZ28gb2JyYXprYVxuICAgICAgICAjIHRhayBqYWsgdyBvc1hcblxuICAgIHBvcHVwID0gJCgnLnBvcHVwJylcblxuICAgIHBvcHVwRmlnID0gcG9wdXAuZmluZCAnZmlndXJlJ1xuICAgIHBvcHVwSW1nID0gcG9wdXAuZmluZCAnaW1nJ1xuICAgIHBvcHVwTmF2ID0gcG9wdXAuZmluZCAnbmF2J1xuICAgIHBvcHVwTmF2LmhpZGUoKVxuICAgIHBvcHVwTmF2Lm9uICdjbGljaycsIC0+XG4gICAgICAgIGZhbHNlXG4gICAgY2xvc2VCdG4gPSBwb3B1cE5hdi5maW5kICcuaWNvbi1jbG9zZSdcbiAgICBzaG93QnRuID0gcG9wdXBOYXYuZmluZCAnLmljb24tYXJyb3ctZG93bidcbiAgICBjYXB0aW9uID0gcG9wdXAuZmluZCAnZmlnY2FwdGlvbidcblxuICAgICMgZXhpdCBmdWxsc2NyZWVuIG1vZGVcbiAgICBjbG9zZUJ0bi5vbiAnY2xpY2snLCAtPlxuICAgICAgICBwb3B1cC5jbGljaygpXG5cbiAgICAjIHRvZ2dsZSBjYXB0aW9uIHZpc2liaWxpdHlcbiAgICBzaG93QnRuLm9uICdjbGljaycsIC0+XG4gICAgICAgIGltZ0hlaWdodCA9IHBvcHVwSW1nLm91dGVySGVpZ2h0KClcbiAgICAgICAgbmF2SGVpZ2h0ID0gJChAKS5wYXJlbnQoKS5vdXRlckhlaWdodCgpXG4gICAgICAgIGNhcHRpb24ub3V0ZXJIZWlnaHQoaW1nSGVpZ2h0IC0gbmF2SGVpZ2h0KVxuICAgICAgICBjYXB0aW9uLmNzcygndG9wJywgbmF2SGVpZ2h0KVxuICAgICAgICBjYXB0aW9uLnNsaWRlVG9nZ2xlIDUwMFxuICAgICAgICAkKEApLnRvZ2dsZUNsYXNzKCdpY29uLWFycm93LXVwJylcblxuICAgICQod2luZG93KS5vbiAncmVzaXplJywgLT5cbiAgICAgICAgaW1nSGVpZ2h0ID0gcG9wdXBJbWcub3V0ZXJIZWlnaHQoKVxuICAgICAgICBuYXZIZWlnaHQgPSBwb3B1cE5hdi5vdXRlckhlaWdodCgpXG4gICAgICAgIGNhcHRpb24ub3V0ZXJIZWlnaHQoaW1nSGVpZ2h0IC0gbmF2SGVpZ2h0KVxuICAgICAgICBjYXB0aW9uLmNzcygndG9wJywgbmF2SGVpZ2h0KVxuXG4gICAgcG9wdXBJbWcub24gJ2NsaWNrJywgKGUpIC0+XG4gICAgICAgIHBvcHVwTmF2LmZhZGVUb2dnbGUgNTAwXG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcblxuICAgIGNhcHRpb24ub24gJ2NsaWNrJywgKGUpIC0+XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcbiJdfQ==
