$(function() {
  var body, closeBtn, figures, header, menuBtn, navMenu, popup, popupFig, popupImg, popupNav, showBtn;
  body = $('body');
  header = $('header');
  menuBtn = header.find('a');
  navMenu = $('nav.menu');
  navMenu.hide();
  menuBtn.on('click', function() {
    navMenu.slideToggle(500);
    $(this).toggleClass('icon-arrow-up');
    return $(this).toggleClass('icon-arrow-down');
  });
  figures = $('figure.post');
  figures.on('mousemove', function(e) {
    var img, offset, x, y;
    offset = $(this).offset();
    x = -(e.pageX - offset.left) / 20;
    y = -(e.pageY - offset.top) / 20;
    img = $(this).find('img');
    return img.css({
      left: x + 'px',
      top: y + 'px'
    });
  });
  figures.on('click', function() {
    var caption, figHeight, figWidth, img, imgRatio, minHeight, minWidth, offset, winHeight, winRatio, winWidth;
    img = $(this).find('img');
    caption = $(this).find('figcaption');
    offset = this.getBoundingClientRect();
    popup.addClass('fullscreen');
    popupFig.append(caption.clone());
    popupImg.attr('src', img.attr('src'));
    popup.animate({
      opacity: 1
    }, 500);
    popupFig.css({
      top: offset.top,
      left: offset.left,
      width: $(this).width(),
      height: $(this).height()
    });
    popupImg.css({
      width: img.width(),
      margin: img.css('margin'),
      opacity: 1
    });
    winWidth = window.innerWidth;
    winHeight = window.innerHeight;
    winRatio = winHeight / winWidth;
    imgRatio = img.outerHeight() / img.outerWidth();
    if (winRatio < imgRatio) {
      figWidth = winWidth * (winRatio / imgRatio);
    } else {
      figWidth = winWidth;
    }
    figHeight = figWidth * imgRatio;
    minWidth = Math.min(popupImg.outerWidth(), figWidth);
    minHeight = Math.min(popupImg.outerHeight(), figHeight);
    popupFig.animate({
      top: window.innerHeight / 2 - minHeight / 2,
      left: window.innerWidth / 2 - minWidth / 2 - 10,
      width: minWidth,
      height: minHeight
    }, 500);
    popupImg.animate({
      margin: 0,
      width: minWidth
    }, 500, function() {
      debugger;
      var initFigCSS, popupImgCSS;
      initFigCSS = {
        position: 'static',
        top: 'auto',
        left: 'auto',
        height: 'auto'
      };
      popupImgCSS = {
        width: '100%'
      };
      popupFig.css(initFigCSS);
      popupImg.css(popupImgCSS);
      return popupFig.animate({
        width: figWidth
      }, 500, function() {
        return popupFig.css({
          position: 'relative'
        });
      });
    });
    $(window).on('resize', function() {
      winRatio = $(this).innerHeight() / $(this).innerWidth();
      figWidth = $(this).innerWidth() * (winRatio / imgRatio);
      return popupFig.css({
        width: figWidth
      });
    });
    return popup.on('click', function() {
      var initImgCSS;
      $(this).removeClass('fullscreen');
      caption.hide();
      $(this).css('opacity', 0);
      $(this).find('figcaption').remove();
      initImgCSS = {
        opacity: 0
      };
      popupImg.css(initImgCSS);
      popupFig.css('position', 'absolute');
      popupImg.attr('src', '');
      showBtn.removeClass('icon-arrow-up');
      return popupNav.hide();
    });
  });
  popup = $('.popup');
  popupFig = popup.find('figure');
  popupImg = popup.find('img');
  popupNav = popup.find('nav');
  popupNav.hide();
  popupNav.on('click', function() {
    return false;
  });
  closeBtn = popupNav.find('.icon-close');
  showBtn = popupNav.find('.icon-arrow-down');
  closeBtn.on('click', function() {
    return popup.click();
  });
  showBtn.on('click', function() {
    var caption, imgHeight, navHeight;
    caption = popup.find('figcaption');
    imgHeight = popupImg.outerHeight();
    navHeight = $(this).parent().outerHeight();
    caption.outerHeight(imgHeight - navHeight);
    caption.css('top', navHeight);
    caption.slideToggle(500);
    $(this).toggleClass('icon-arrow-up');
    caption.on('click', function(e) {
      return e.stopImmediatePropagation();
    });
    return $(window).on('resize', function() {
      imgHeight = popupImg.outerHeight();
      navHeight = popupNav.outerHeight();
      caption.outerHeight(imgHeight - navHeight);
      return caption.css('top', navHeight);
    });
  });
  return popupImg.on('click', function(e) {
    popupNav.fadeToggle(500);
    return e.stopImmediatePropagation();
  });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJhcHAuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLENBQUEsQ0FBRSxTQUFBO0FBR0UsTUFBQTtFQUFBLElBQUEsR0FBTyxDQUFBLENBQUUsTUFBRjtFQUNQLE1BQUEsR0FBUyxDQUFBLENBQUUsUUFBRjtFQUNULE9BQUEsR0FBVSxNQUFNLENBQUMsSUFBUCxDQUFZLEdBQVo7RUFDVixPQUFBLEdBQVUsQ0FBQSxDQUFFLFVBQUY7RUFDVixPQUFPLENBQUMsSUFBUixDQUFBO0VBQ0EsT0FBTyxDQUFDLEVBQVIsQ0FBVyxPQUFYLEVBQW9CLFNBQUE7SUFDaEIsT0FBTyxDQUFDLFdBQVIsQ0FBb0IsR0FBcEI7SUFDQSxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsV0FBTCxDQUFpQixlQUFqQjtXQUNBLENBQUEsQ0FBRSxJQUFGLENBQUksQ0FBQyxXQUFMLENBQWlCLGlCQUFqQjtFQUhnQixDQUFwQjtFQUtBLE9BQUEsR0FBVSxDQUFBLENBQUUsYUFBRjtFQUdWLE9BQU8sQ0FBQyxFQUFSLENBQVcsV0FBWCxFQUF3QixTQUFDLENBQUQ7QUFDcEIsUUFBQTtJQUFBLE1BQUEsR0FBUyxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsTUFBTCxDQUFBO0lBQ1QsQ0FBQSxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBRixHQUFVLE1BQU0sQ0FBQyxJQUFsQixDQUFELEdBQXlCO0lBQzdCLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUYsR0FBVSxNQUFNLENBQUMsR0FBbEIsQ0FBRCxHQUF3QjtJQUU1QixHQUFBLEdBQU0sQ0FBQSxDQUFFLElBQUYsQ0FBSSxDQUFDLElBQUwsQ0FBVSxLQUFWO1dBQ04sR0FBRyxDQUFDLEdBQUosQ0FDSTtNQUFBLElBQUEsRUFBTSxDQUFBLEdBQUksSUFBVjtNQUNBLEdBQUEsRUFBSyxDQUFBLEdBQUksSUFEVDtLQURKO0VBTm9CLENBQXhCO0VBV0EsT0FBTyxDQUFDLEVB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Q0FBQyxHQUFSLENBQVksS0FBWixFQUFtQixTQUFuQjtJQUptQixDQUF2QjtFQVpnQixDQUFwQjtTQW9CQSxRQUFRLENBQUMsRUFBVCxDQUFZLE9BQVosRUFBcUIsU0FBQyxDQUFEO0lBQ2pCLFFBQVEsQ0FBQyxVQUFULENBQW9CLEdBQXBCO1dBQ0EsQ0FBQyxDQUFDLHdCQUFGLENBQUE7RUFGaUIsQ0FBckI7QUFySkYsQ0FBRiIsInNvdXJjZXNDb250ZW50IjpbIiQgLT5cblxuICAgICMgc2hvdy9oaWRlIG5hdiBtZW51IGJhclxuICAgIGJvZHkgPSAkKCdib2R5JylcbiAgICBoZWFkZXIgPSAkKCdoZWFkZXInKVxuICAgIG1lbnVCdG4gPSBoZWFkZXIuZmluZCAnYSdcbiAgICBuYXZNZW51ID0gJCgnbmF2Lm1lbnUnKVxuICAgIG5hdk1lbnUuaGlkZSgpXG4gICAgbWVudUJ0bi5vbiAnY2xpY2snLCAtPlxuICAgICAgICBuYXZNZW51LnNsaWRlVG9nZ2xlIDUwMFxuICAgICAgICAkKEApLnRvZ2dsZUNsYXNzKCdpY29uLWFycm93LXVwJylcbiAgICAgICAgJChAKS50b2dnbGVDbGFzcygnaWNvbi1hcnJvdy1kb3duJylcblxuICAgIGZpZ3VyZXMgPSAkKCdmaWd1cmUucG9zdCcpXG5cbiAgICAjIG1vdmUgaW1hZ2Ugb24gbW91c2Vtb3ZlXG4gICAgZmlndXJlcy5vbiAnbW91c2Vtb3ZlJywgKGUpIC0+XG4gICAgICAgIG9mZnNldCA9ICQoQCkub2Zmc2V0KClcbiAgICAgICAgeCA9IC0oZS5wYWdlWCAtIG9mZnNldC5sZWZ0KS8yMFxuICAgICAgICB5ID0gLShlLnBhZ2VZIC0gb2Zmc2V0LnRvcCkvMjBcblxuICAgICAgICBpbWcgPSAkKEApLmZpbmQgJ2ltZydcbiAgICAgICAgaW1nLmNzc1xuICAgICAgICAgICAgbGVmdDogeCArICdweCdcbiAgICAgICAgICAgIHRvcDogeSArICdweCdcblxuICAgICMgc2hvdyBpbWFnZSBvbiBmdWxsc2NyZWVuXG4gICAgZmlndXJlcy5vbiAnY2xpY2snLCAtPlxuICAgICAgICBpbWcgPSAkKEApLmZpbmQgJ2ltZydcbiAgICAgICAgY2FwdGlvbiA9ICQoQCkuZmluZCAnZmlnY2FwdGlvbidcbiAgICAgICAgb2Zmc2V0ID0gQGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIHBvcHVwLmFkZENsYXNzKCdmdWxsc2NyZWVuJylcbiAgICAgICAgcG9wdXBGaWcuYXBwZW5kIGNhcHRpb24uY2xvbmUoKVxuICAgICAgICBwb3B1cEltZy5hdHRyKCdzcmMnLCBpbWcuYXR0cignc3JjJykpXG4gICAgICAgIHBvcHVwLmFuaW1hdGVcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIDUwMFxuICAgICAgICBwb3B1cEZpZy5jc3NcbiAgICAgICAgICAgIHRvcDogb2Zmc2V0LnRvcFxuICAgICAgICAgICAgbGVmdDogb2Zmc2V0LmxlZnRcbiAgICAgICAgICAgIHdpZHRoOiAkKEApLndpZHRoKClcbiAgICAgICAgICAgIGhlaWdodDogJChAKS5oZWlnaHQoKVxuICAgICAgICBwb3B1cEltZy5jc3NcbiAgICAgICAgICAgIHdpZHRoOiBpbWcud2lkdGgoKVxuICAgICAgICAgICAgbWFyZ2luOiBpbWcuY3NzKCdtYXJnaW4nKVxuICAgICAgICAgICAgb3BhY2l0eTogMVxuXG4gICAgICAgIHdpbldpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgICAgICAgd2luSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgIHdpblJhdGlvID0gIHdpbkhlaWdodCAvIHdpbldpZHRoXG4gICAgICAgIGltZ1JhdGlvID0gaW1nLm91dGVySGVpZ2h0KCkgLyBpbWcub3V0ZXJXaWR0aCgpXG5cbiAgICAgICAgIyAkKCdwLndpZHRoJykudGV4dCh3aW5kb3cuaW5uZXJXaWR0aCArICcgJyArIHdpbldpZHRoKVxuXG4gICAgICAgIGlmIHdpblJhdGlvIDwgaW1nUmF0aW9cbiAgICAgICAgICAgIGZpZ1dpZHRoID0gd2luV2lkdGgqKHdpblJhdGlvL2ltZ1JhdGlvKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBmaWdXaWR0aCA9IHdpbldpZHRoXG5cbiAgICAgICAgZmlnSGVpZ2h0ID0gZmlnV2lkdGgqaW1nUmF0aW9cblxuICAgICAgICAjIGFuaW1hY2phIHByemVzdXdhbmlhIGkgcG93acSZa3N6YW5pYSBrbGlrbmnEmXRlZ28gb2JyYXprYVxuICAgICAgICBtaW5XaWR0aCA9IE1hdGgubWluKHBvcHVwSW1nLm91dGVyV2lkdGgoKSwgZmlnV2lkdGgpXG4gICAgICAgIG1pbkhlaWdodCA9IE1hdGgubWluKHBvcHVwSW1nLm91dGVySGVpZ2h0KCksIGZpZ0hlaWdodClcbiAgICAgICAgcG9wdXBGaWcuYW5pbWF0ZVxuICAgICAgICAgICAgdG9wOiB3aW5kb3cuaW5uZXJIZWlnaHQvMiAtIG1pbkhlaWdodC8yXG4gICAgICAgICAgICBsZWZ0OiB3aW5kb3cuaW5uZXJXaWR0aC8yIC0gbWluV2lkdGgvMiAtIDEwXG4gICAgICAgICAgICB3aWR0aDogbWluV2lkdGhcbiAgICAgICAgICAgIGhlaWdodDogbWluSGVpZ2h0XG4gICAgICAgICAgICA1MDBcbiAgICAgICAgcG9wdXBJbWcuYW5pbWF0ZVxuICAgICAgICAgICAgbWFyZ2luOiAwXG4gICAgICAgICAgICB3aWR0aDogbWluV2lkdGhcbiAgICAgICAgICAgIDUwMFxuICAgICAgICAgICAgLT5cbiAgICAgICAgICAgICAgICBkZWJ1Z2dlclxuICAgICAgICAgICAgICAgIGluaXRGaWdDU1MgPVxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3N0YXRpYydcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nXG4gICAgICAgICAgICAgICAgcG9wdXBJbWdDU1MgPVxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnXG4gICAgICAgICAgICAgICAgcG9wdXBGaWcuY3NzIGluaXRGaWdDU1NcbiAgICAgICAgICAgICAgICBwb3B1cEltZy5jc3MgcG9wdXBJbWdDU1NcbiAgICAgICAgICAgICAgICBwb3B1cEZpZy5hbmltYXRlXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBmaWdXaWR0aFxuICAgICAgICAgICAgICAgICAgICA1MDBcbiAgICAgICAgICAgICAgICAgICAgLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwRmlnLmNzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIyDFvGVieSBnw7NybnkgcGFzZWsgaSBvcGlzIGJ5xYJ5IHdlIHfFgmHFm2Npd3ltIG1pZWpzY3VcblxuICAgICAgICAkKHdpbmRvdykub24gJ3Jlc2l6ZScsIC0+XG4gICAgICAgICAgICB3aW5SYXRpbyA9ICQoQCkuaW5uZXJIZWlnaHQoKSAvICQoQCkuaW5uZXJXaWR0aCgpXG4gICAgICAgICAgICBmaWdXaWR0aCA9ICQoQCkuaW5uZXJXaWR0aCgpICogKHdpblJhdGlvL2ltZ1JhdGlvKVxuICAgICAgICAgICAgcG9wdXBGaWcuY3NzXG4gICAgICAgICAgICAgICAgd2lkdGg6IGZpZ1dpZHRoXG4gICAgICAgICAgICAgICAgIyBwb3ByYXdrYSByZXNwb25zeXdub8WbY2k6IHN6ZXJva2/Fm8SHIG9icmF6a2FcblxuICAgICAgICBwb3B1cC5vbiAnY2xpY2snLCAtPlxuICAgICAgICAgICAgJChAKS5yZW1vdmVDbGFzcygnZnVsbHNjcmVlbicpXG4gICAgICAgICAgICBjYXB0aW9uLmhpZGUoKVxuICAgICAgICAgICAgJChAKS5jc3MoJ29wYWNpdHknLCAwKVxuICAgICAgICAgICAgJChAKS5maW5kKCdmaWdjYXB0aW9uJykucmVtb3ZlKClcbiAgICAgICAgICAgIGluaXRJbWdDU1MgPVxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgIHBvcHVwSW1nLmNzcyBpbml0SW1nQ1NTXG4gICAgICAgICAgICBwb3B1cEZpZy5jc3MgJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJ1xuICAgICAgICAgICAgcG9wdXBJbWcuYXR0ciAnc3JjJywgJydcbiAgICAgICAgICAgIHNob3dCdG4ucmVtb3ZlQ2xhc3MgJ2ljb24tYXJyb3ctdXAnXG4gICAgICAgICAgICBwb3B1cE5hdi5oaWRlKClcblxuICAgIHBvcHVwID0gJCgnLnBvcHVwJylcblxuICAgIHBvcHVwRmlnID0gcG9wdXAuZmluZCAnZmlndXJlJ1xuICAgIHBvcHVwSW1nID0gcG9wdXAuZmluZCAnaW1nJ1xuICAgIHBvcHVwTmF2ID0gcG9wdXAuZmluZCAnbmF2J1xuICAgIHBvcHVwTmF2LmhpZGUoKVxuICAgIHBvcHVwTmF2Lm9uICdjbGljaycsIC0+XG4gICAgICAgIGZhbHNlXG4gICAgY2xvc2VCdG4gPSBwb3B1cE5hdi5maW5kICcuaWNvbi1jbG9zZSdcbiAgICBzaG93QnRuID0gcG9wdXBOYXYuZmluZCAnLmljb24tYXJyb3ctZG93bidcblxuICAgICMgZXhpdCBmdWxsc2NyZWVuIG1vZGVcbiAgICBjbG9zZUJ0bi5vbiAnY2xpY2snLCAtPlxuICAgICAgICBwb3B1cC5jbGljaygpXG5cbiAgICAjIHRvZ2dsZSBjYXB0aW9uIHZpc2liaWxpdHlcbiAgICBzaG93QnRuLm9uICdjbGljaycsIC0+XG4gICAgICAgIGNhcHRpb24gPSBwb3B1cC5maW5kICdmaWdjYXB0aW9uJ1xuICAgICAgICBpbWdIZWlnaHQgPSBwb3B1cEltZy5vdXRlckhlaWdodCgpXG4gICAgICAgIG5hdkhlaWdodCA9ICQoQCkucGFyZW50KCkub3V0ZXJIZWlnaHQoKVxuICAgICAgICBjYXB0aW9uLm91dGVySGVpZ2h0KGltZ0hlaWdodCAtIG5hdkhlaWdodClcbiAgICAgICAgY2FwdGlvbi5jc3MoJ3RvcCcsIG5hdkhlaWdodClcbiAgICAgICAgY2FwdGlvbi5zbGlkZVRvZ2dsZSA1MDBcbiAgICAgICAgJChAKS50b2dnbGVDbGFzcygnaWNvbi1hcnJvdy11cCcpXG5cbiAgICAgICAgY2FwdGlvbi5vbiAnY2xpY2snLCAoZSkgLT5cbiAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcblxuICAgICAgICAkKHdpbmRvdykub24gJ3Jlc2l6ZScsIC0+XG4gICAgICAgICAgICBpbWdIZWlnaHQgPSBwb3B1cEltZy5vdXRlckhlaWdodCgpXG4gICAgICAgICAgICBuYXZIZWlnaHQgPSBwb3B1cE5hdi5vdXRlckhlaWdodCgpXG4gICAgICAgICAgICBjYXB0aW9uLm91dGVySGVpZ2h0KGltZ0hlaWdodCAtIG5hdkhlaWdodClcbiAgICAgICAgICAgIGNhcHRpb24uY3NzKCd0b3AnLCBuYXZIZWlnaHQpXG4gICAgICAgICAgICAjIHBvcHJhd2thIHJlc3BvbnN5d25vxZtjaSBkbGEgZ8Ozcm5laiBiZWxraSBpIG9waXN1XG5cblxuICAgIHBvcHVwSW1nLm9uICdjbGljaycsIChlKSAtPlxuICAgICAgICBwb3B1cE5hdi5mYWRlVG9nZ2xlIDUwMFxuICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG4iXX0=
